<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vendor Registration - Unity Celebrations</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f5f5;
      padding: 2rem;
    }
    .form-container {
      background-color: white;
      max-width: 800px;
      margin: auto;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #3b0a58;
    }
    label {
      font-weight: bold;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background-color: #3b0a58;
      color: white;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .note-box {
      background-color: #f0f0ff;
      border: 1px solid #3b0a58;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="form-container">
    <h2>Vendor Registration Form</h2>
    <form id="vendorForm">
      <label>Business Name</label>
      <input type="text" name="Business Name" required>

      <label>Contact Name</label>
      <input type="text" name="Contact Name" required>

      <label>Phone Number</label>
      <input type="text" name="Phone Number" required>

      <label>Email Address</label>
      <input type="email" name="Email Address" required>

      <label>Vendor Category</label>
      <input type="text" name="Vendor Catagory" required>

      <label>Vendor Type</label>
      <input type="text" name="Vendor Type" required>

      <label>Product Description</label>
      <textarea name="Product Discription" rows="3" required></textarea>

      <label>Participation Days</label>
      <select name="Participation Days" id="days" required onchange="calculateCost()">
        <option value="">-- Select --</option>
        <option value="Saturday, July 26 (10AM-7PM)">Saturday</option>
        <option value="Sunday, July 27 (10AM-6PM)">Sunday</option>
        <option value="Both Days">Both Days</option>
      </select>

      <label>Number of Tables Required</label>
      <input type="number" name="Number of Tables Required" min="1" value="1" id="tables" onchange="calculateCost()" required>

      <label>Special Requirements or Requests</label>
      <textarea name="Special Requirements or Requests" rows="3"></textarea>

      <div class="note-box">
        <strong>Table Rates:</strong><br>
        Saturday or Sunday: $75 each<br>
        Both Days: $150<br>
        Extra table: $25/day<br><br>

        <strong>E-Transfer Instructions:</strong><br>
        Send to: celebrationsofunity@gmail.com<br>
        Message: Your Business Name, Days, and Tables
      </div>

      <p><strong>Estimated Cost:</strong> <span id="costDisplay">$0</span></p>

      <label><input type="checkbox" id="terms" required> I have read and agree to the <a href="terms.html" target="_blank">Terms and Conditions</a></label>

      <br><br>
      <button type="submit">Submit</button>
      <p id="responseMsg"></p>
    </form>
  </div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/YOUR_DEPLOYED_SCRIPT_URL_HERE/exec';
    const form = document.getElementById('vendorForm');
    const msg = document.getElementById('responseMsg');

    form.addEventListener('submit', e => {
      e.preventDefault();
      if (!document.getElementById('terms').checked) {
        msg.textContent = "You must agree to the terms and conditions.";
        return;
      }
      fetch(scriptURL, {
        method: 'POST',
        body: new FormData(form)
      })
      .then(response => {
        msg.textContent = "Thank you! Your registration has been submitted.";
        form.reset();
        calculateCost(); // Reset cost
      })
      .catch(error => {
        msg.textContent = "Error! Submission failed.";
        console.error('Error!', error.message);
      });
    });

    function calculateCost() {
      const days = document.getElementById("days").value.toLowerCase();
      const tables = parseInt(document.getElementById("tables").value || "1");
      let cost = 0;

      if (days.includes("both")) {
        cost += 150;
      } else {
        if (days.includes("saturday")) cost += 75;
        if (days.includes("sunday")) cost += 75;
      }

      if (tables > 1) {
        const extra = tables - 1;
        const numDays = days.includes("both") ? 2 : (days.includes("saturday") + days.includes("sunday"));
        cost += extra * 25 * numDays;
      }

      document.getElementById("costDisplay").textContent = `$${cost}`;
    }

    window.onload = calculateCost;
  </script>
</body>
</html>
